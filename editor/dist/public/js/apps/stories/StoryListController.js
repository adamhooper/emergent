(function(){define(["app","models/Story","views/StoryListLayout"],function(e,t,n){return{go:function(){return e.request("stories/index").then(function(r){var i;return i=n.forCollectionInRegion(r,e.mainRegion),i.on("items:delete",function(t){return r.remove(t),e.request("stories/destroy",t.id).fail(function(e){return console.log(e)})}),i.on("new:submit",function(e){var n;return n=new t(e,{isNew:!0}),r.add(n),n.save()}),i.on("list:click",function(t){return e.trigger("stories:show",t)}),i.on("list:delete",function(e){var t;return t=r.get(e),t.destroy()})})}}})}).call(this);