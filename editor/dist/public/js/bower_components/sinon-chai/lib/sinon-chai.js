(function(e){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?module.exports=e:typeof define=="function"&&define.amd?define([],function(){return e}):chai.use(e)})(function(t,n){function i(e){return typeof e=="function"&&typeof e.getCall=="function"&&typeof e.calledWithExactly=="function"}function s(e){return e===1?"once":e===2?"twice":e===3?"thrice":(e||0)+" times"}function o(e){return e&&i(e.proxy)}function u(e){if(!i(e._obj)&&!o(e._obj))throw new TypeError(n.inspect(e._obj)+" is not a spy or a call to a spy!")}function a(e,t,n,r,s){function u(t){return e.printf.apply(e,t)}var o=r?"always have ":"have ";return n=n||"",i(e.proxy)&&(e=e.proxy),{affirmative:u(["expected %n to "+o+t+n].concat(s)),negative:u(["expected %n to not "+o+t].concat(s))}}function f(e,r,i){n.addProperty(t.Assertion.prototype,e,function(){u(this);var t=a(this._obj,r,i,!1);this.assert(this._obj[e],t.affirmative,t.negative)})}function l(e,r,i){n.addMethod(t.Assertion.prototype,e,function(t){u(this);var n=a(this._obj,r,i,!1,[s(t)]);this.assert(this._obj[e]===t,n.affirmative,n.negative)})}function c(e,t,i){return function(){u(this);var s="always"+e[0].toUpperCase()+e.substring(1),o=n.flag(this,"always")&&typeof this._obj[s]=="function",f=o?s:e,l=a(this._obj,t,i,o,r.call(arguments));this.assert(this._obj[f].apply(this._obj,arguments),l.affirmative,l.negative)}}function h(e,r,i){var s=c(e,r,i);n.addProperty(t.Assertion.prototype,e,s)}function p(e,r,i,s){var o=c(r,i,s);n.addMethod(t.Assertion.prototype,e,o)}function d(e,t,n){p(e,e,t,n)}var r=Array.prototype.slice;n.addProperty(t.Assertion.prototype,"always",function(){n.flag(this,"always",!0)}),f("called","been called"," at least once, but it was never called"),l("callCount","been called exactly %1",", but it was called %c%C"),f("calledOnce","been called exactly once",", but it was called %c%C"),f("calledTwice","been called exactly twice",", but it was called %c%C"),f("calledThrice","been called exactly thrice",", but it was called %c%C"),h("calledWithNew","been called with new"),d("calledBefore","been called before %1"),d("calledAfter","been called after %1"),d("calledOn","been called with %1 as this",", but it was called with %t instead"),d("calledWith","been called with arguments %*","%C"),d("calledWithExactly","been called with exact arguments %*","%C"),d("calledWithMatch","been called with arguments matching %*","%C"),d("returned","returned %1"),p("thrown","threw","thrown %1")});